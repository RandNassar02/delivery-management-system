<div class="cart-page" *ngIf="cartItems.length > 0; else emptyCart">
  <div class="cart-container">
    <div class="items-list">
      <h3>{{ "cart.item" | translate }}</h3>
      <div *ngFor="let item of cartItems" class="cart-item">
        <img [src]="item.image" alt="{{ item.name }}" class="item-img" />
        <div class="item-details">
          <h4>{{ item.name }}</h4>
          <p>
            {{ item.price | number : "1.2-2" }} {{ "orders.Jd" | translate }}
          </p>
        </div>
        <div class="quantity-control">
          <button (click)="decreaseQuantity(item)">âˆ’</button>
          <span>{{ item.quantity }}</span>
          <button (click)="increaseQuantity(item)">+</button>
        </div>
      </div>
    </div>

    <div class="summary-box">
      <h3>{{ "cart.summry" | translate }}</h3>

      <div class="summary-line">
        <span>{{ "drawer.Subtotal" | translate }}:</span>
        <span
          >{{ getSubtotal() | number : "1.2-2" }}
          {{ "orders.Jd" | translate }}</span
        >
      </div>

      <div class="summary-line">
        <span>{{ "cart.delivery fee" | translate }}:</span>
        <span
          >{{ deliveryFee | number : "1.2-2" }}
          {{ "orders.Jd" | translate }}</span
        >
      </div>

      <hr />

      <div class="summary-total">
        <strong>{{ "orders.total" | translate }}</strong>
        <strong
          >{{ getTotal() | number : "1.2-2" }}
          {{ "orders.Jd" | translate }}</strong
        >
      </div>

      <div class="payment-methods">
        <h4>{{ "cart.payment method" | translate }}</h4>

        <div class="payment-option">
          <input
            type="radio"
            name="payment"
            id="cod"
            value="cod"
            [(ngModel)]="selectedPaymentMethod"
          />
          <label for="cod">ğŸ’µ {{ "cart.Cash on Delivery" | translate }}</label>
        </div>

        <div class="payment-option">
          <input
            type="radio"
            name="payment"
            id="card"
            value="card"
            [(ngModel)]="selectedPaymentMethod"
          />
          <label for="card"
            >ğŸ’³ {{ "cart.Credit/Debit Card" | translate }}</label
          >
        </div>

        <div class="payment-option">
          <input
            type="radio"
            name="payment"
            id="zaincash"
            value="zaincash"
            [(ngModel)]="selectedPaymentMethod"
          />
          <label for="zaincash">ğŸ“± {{ "cart.ZainCash" | translate }}</label>
        </div>

        <div class="payment-option">
          <input
            type="radio"
            name="payment"
            id="efawateer"
            value="efawateer"
            [(ngModel)]="selectedPaymentMethod"
          />
          <label for="efawateer"
            >ğŸ’» {{ "cart.eFAWATEERcom" | translate }}</label
          >
        </div>
      </div>

      <button class="checkout-btn" (click)="submitOrder()">
        {{ "cart.button" | translate }}
      </button>
    </div>
  </div>
</div>

<ng-template #emptyCart>
  <div class="empty-cart">
    <p>{{ "cart.emptyCart" | translate }}</p>
    <button class="view-cart-btn" (click)="gotostore()">
      {{ "cart.button" | translate }}
    </button>
    <img
      src="https://res.cloudinary.com/ddsrofo4o/image/upload/v1748706445/cart_emp_lpzk1b.png"
    />
  </div>
</ng-template>
